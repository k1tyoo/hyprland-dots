monitor=eDP-1,2560x1600@60,0x0,1,bitdepth,10
# monitor=eDP-1,disable
# monitor=HDMI-A-1,3840x2160@60,0x0,1.25

exec-once = waybar
exec-once = dunst
exec-once = swaybg -m fill -i ~/.wallpapers/default.png
# For screen sharing
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = ~/.config/hypr/scripts/xdg-portal-hyprland
exec-once = fcitx5
exec-once = swayidle -w timeout 240 'swaylock'
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = blueman-applet
exec-once = nm-applet --indicator
exec-once = hyprctl setcursor Bibata-Modern-TokyoNight 36
# exec-once = ~/.config/hypr/scripts/nvidia-power
exec-once = gammastep-indicator

input {
  kb_layout = us
  follow_mouse = 0
  sensitivity = 0
  numlock_by_default = trues
  touchpad {
      natural_scroll = true
      tap-to-click = true
      drag_lock = false
      disable_while_typing = true
  }
  float_switch_override_focus = true
}

general {
    layout = dwindle
    gaps_in = 5
    gaps_out = 5
    border_size = 2
    col.active_border = 0xff5e81ac
    col.inactive_border = 0x66333333
}

decoration {
    rounding = 14
    multisample_edges = true
    blur = true
    blur_size = 6.8
    blur_passes = 2
    blur_new_optimizations = true
    drop_shadow = true
    shadow_range = 15
    col.shadow = 0xffa7caff
    col.shadow_inactive = 0x50000000

    blurls = gtk-layer-shell
    blurls = waybar
    blurls = lockscreen
}

animations {
    enabled = true

    bezier = overshot, 0.05, 0.9, 0.1, 1.05
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1

    animation = windows, 1, 5, overshot, slide
    animation = windowsOut, 1, 4, smoothOut, slide
    animation = windowsMove, 1, 4, default
    animation = border, 1, 10, default
    animation = fade, 1, 10, smoothIn
    animation = fadeDim, 1, 10, smoothIn
    animation = workspaces, 1, 6, default
}

dwindle {
    pseudotile = true
    force_split = 0
    preserve_split = yes
    split_width_multiplier = 1.0
    use_active_for_splits = true
    no_gaps_when_only = false
}

master {
    special_scale_factor=0.5
    new_is_master=false
    new_on_top=true
    no_gaps_when_only = false
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    focus_on_activate = true
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = false
    no_vfr = true
    enable_swallow = true
    swallow_regex =
}

gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 4
    workspace_swipe_distance = 250
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 15
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = false
}

$mainMod = SUPER

#-------------#
# Window rule #
#-------------#
windowrule = float, Rofi
windowrule = float, pavucontrol
windowrulev2 = float, class:^()$,title:^(Picture in picture)$
windowrulev2 = float, size:50% 50%, class:^(blueman-manager)$
windowrulev2 = float, class:^(org.twosheds.iwgtk)$
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = float, class:^(geeqie)$

#----------------------------#
# Float windows pos and size #
#----------------------------#
windowrule = float, thunar
windowrule = size 50% 50%, thunar
windowrule = center, thunar
windowrule = opacity 0.8, thunar

windowrule = float, octopi
windowrule = size 50% 50%, octopi
windowrule = center, octopi

windowrule = float, pavucontrol
windowrule = size 40% 35%, pavucontrol
windowrule = center, pavucontrol
#-----------------------#
# Applications shortcut #
#-----------------------#
bind = $mainMod, B, exec, firefox
bind = $mainMod, RETURN, exec, kitty
bind = $mainMod, D, exec, killall rofi || rofi -show drun
bind = $mainMod, E, exec, killall rofi || rofi -show emoji -emoji-format "{emoji}" -modi emoji -theme ~/.config/rofi/emoji/emoji.rasi
bind = $mainMod, T, exec, thunar
bind = $mainMod SHIFT, P, exec, pomotroid --in-process-gpu
bind = $mainMod SHIFT, C, exec, bash ~/.config/hypr/scripts/hyprPicker.sh
bind = CTRL ALT, L, exec, swaylock
bind = $mainMod, F1, exec, ~/.config/hypr/scripts/keybind
bind = $mainMod, escape, exec, wlogout --protocol layer-shell -b 5 -T 400 -B 400

# brightness and volume #
bind =, XF86AudioMute, exec, ~/.config/hypr/scripts/volume mute
bind =, XF86AudioLowerVolume, exec, pamixer -d 5
bind =, XF86AudioRaiseVolume, exec, pamixer -i 5
bind =, XF86AudioMicMute, exec, pamixer --default-source -t
bind =, XF86MonBrightnessUp, exec, light -A 5
bind =, XF86MonBrightnessDown, exec, light -U 5
bind =, XF86AudioPlay, exec, playerctl play-pause
bind =, XF86AudioNext, exec, playerctl next
bind =, XF86AudioPrev, exec, playerctl previous

# screenshot and recorder
bind = $mainMod SHIFT, S, exec, grimblast --notify --cursor copysave area ~/Pictures/Screenshots/$(date +'%s_screenshot.png')
bind = , Print, exec, grimblast --notify --cursor copysave output ~/Pictures/Screenshots/$(date +'%s_screenshot.png')
bind = ALT, Print, exec, grimblast --notify --cursor copysave screen ~/Pictures/Screenshots/$(date +'%s_screenshot.png')
# Screen recorder
bind = $mainMod, R, exec, wf-recorder -g "$(slurp)" -f ~/Videos/$(date +%F-%T).mp4

# waybar toggle
bind = $mainMod, O, exec, ~/.config/hypr/scripts/toggle-waybar

# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀▄▀█ ▄▀█ █▄░█ ▄▀█ █▀▀ █▀▄▀█ █▀▀ █▄░█ ▀█▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █░▀░█ █▀█ █░▀█ █▀█ █▄█ █░▀░█ ██▄ █░▀█ ░█░
bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, Q, exit,
bind = $mainMod, F, fullscreen,
bind = $mainMod, Space, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, S, togglesplit, # dwindle

# █▀▀ █▀█ █▀▀ █░█ █▀
# █▀░ █▄█ █▄▄ █▄█ ▄█
bind = $mainMod, j, movefocus, d
bind = $mainMod, k, movefocus, u
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r

# █▀█ █▀▀ █▀ █ ▀█ █▀▀
# █▀▄ ██▄ ▄█ █ █▄ ██▄
bind = $mainMod, left, resizeactive, -40 0
bind = $mainMod, right, resizeactive, 40 0
bind = $mainMod, up, resizeactive, 0 -40
bind = $mainMod, down, resizeactive, 0 40

# █▀▄▀█ █▀█ █░█ █▀▀
# █░▀░█ █▄█ ▀▄▀ ██▄
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d

# █▀ █░█░█ █ ▀█▀ █▀▀ █░█
# ▄█ ▀▄▀▄▀ █ ░█░ █▄▄ █▀█
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10
bind = $mainMod ALT, up, workspace, e+1
bind = $mainMod ALT, down, workspace, e-1

# █▀▄▀█ █▀█ █░█ █▀▀
# █░▀░█ █▄█ ▀▄▀ ██▄
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod, minus, movetoworkspace, special
bind = $mainMod, equal, togglespecialworkspace

bind = $mainMod, G, togglegroup,
bind = $mainMod, Tab, changegroupactive, f

# █▀▄▀█ █▀█ █░█ █▀ █▀▀   █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀
# █░▀░█ █▄█ █▄█ ▄█ ██▄   █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
